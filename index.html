<!DOCTYPE html>
<html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<body>

<h2>Spin Up Your Node</h2>
<p>Digital Ocean API Token</p> 
<p><input type="text" id="token"></p>
<p>SSH Fingerprint</p> 
<p><input type="text" id="fingerprint"></p>
<button type="button" onclick="execute()">Create VPS</button>

<script>

function execute() {
	var token = $("#token").val();
	var fingerprint = $("#fingerprint").val();

	var dodata = new Object();
	dodata.name = "obdroplet";
	dodata.region = "nyc3";
	dodata.size = "1gb";
	dodata.image = "ubuntu-16-04-x64";
	dodata.ssh_keys = [fingerprint];
	dodata.backups = false;
	dodata.ipv6 = false;
	dodata.user_data = null;
	dodata.private_networking = null;
	dodata.volumes = null;

	var readytosend = JSON.stringify(dodata);

	console.log(token);
	console.log(fingerprint);
	console.log(readytosend);

	$.ajax({
		url: "https://api.digitalocean.com/v2/droplets",
		beforeSend: function(xhr) { 
			xhr.setRequestHeader("Authorization", "BEARER " + token ); 
		},
		type: 'POST',
		dataType: 'json',
		contentType: 'application/json',
		processData: true,
		data: readytosend,

	success: function (data) {
		console.log(JSON.stringify(data));
		},
	error: function(){
		console.log("Cannot get data");
	}
	});

}
</script>
</body>
</html>
